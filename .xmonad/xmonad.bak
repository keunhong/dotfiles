import XMonad
import XMonad.Config.Gnome
import XMonad.Hooks.ManageDocks
import XMonad.Util.EZConfig
import qualified XMonad.StackSet as W
import XMonad.Hooks.ManageHelpers
import XMonad.Layout.NoBorders
import XMonad.Layout.Decoration


import qualified Data.Map as M
import XMonad.Hooks.ManageDocks
import XMonad.Hooks.EwmhDesktops



main = do
    xmonad $ gnomeConfig
        { terminal              = "gnome-terminal"
        , modMask               = mod4Mask
        , focusFollowsMouse	    = False
        , workspaces            = ["1:main","2:dev","3","4","5","6","7","8","9","0"]
        , layoutHook            = smartBorders $ layoutHook gnomeConfig
        , manageHook            = myManageHook <+> manageHook gnomeConfig
        , normalBorderColor     = "#444444"
        , focusedBorderColor    = "#88A470"
        } --`additionalKeysP` myKeys

--myKeys conf@(XConfig {XMonad.modMask = modMask}) = M.fromList $
--    [ ((mod4Mask, xK_b), sendMessage ToggleStruts)
--myKeys = 
--    [ ("M-b", sendMessage ToggleStruts)
--    ]

myManageHook = (composeAll
    [ isFullscreen --> doFullFloat
    , className =? "Firefox"    --> doShift "1:main"
    , className =? "Pidgin"     --> doShift "3"
    , className =? "MPlayer"    --> doFullFloat
    , className =? "gnome-mplayer" --> doFullFloat
    , className =? "gnome-panel" --> doIgnore
    , className =? "MPlayer"    --> (ask >>= doF . W.sink)
    , manageDocks
    ])
